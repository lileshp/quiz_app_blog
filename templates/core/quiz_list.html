{% extends 'core/base.html' %}
{% block content %}
{% load static %}

<h2 class="mb-4">Explore Quizzes!!!</h2>
<div class="row">
  {% for quiz in quizzes %}
  <div class="col-md-4 mb-4">
    <div class="card h-100 shadow-sm">
      {% if quiz.image %}
      <img src="{{ quiz.image.url }}" class="card-img-top" alt="{{ quiz.title }}">
      {% else %}
      <img src="{% static 'images/dbms-1.png' %}" class="card-img-top" alt="Default Quiz Image">
      {% endif %}
      
      <div class="card-body">
        <h5 class="card-title text-center text-info" style="font-weight:bold">{{ quiz.title }}</h5>
        <p class="card-text"><strong>Category:</strong> {{ quiz.category.name }}</p>
        
        <p>
          {% if quiz.status == 'active' %}
            <span class="badge badge-success p-2">Active</span>
          {% elif quiz.status == 'hold' %}
            <span class="badge badge-warning p-2">On Hold</span>
          {% else %}
            <span class="badge badge-secondary p-2">Disabled</span>
          {% endif %}
        
          {% if not quiz.is_paid %}
            <span class="badge badge-success p-2">FREE</span>
          {% else %}
            <span class="badge badge-warning p-2">PAID</span>
            &emsp; &emsp; <span class="text-muted font-weight-bold">PRICE: â‚¹ {{ quiz.price }}</span>
          {% endif %}
        
      </p>
        {% if quiz.status == 'active' %}
          <a href="{% url 'start_quiz' quiz.id %}" class="btn btn-success btn-block">Start Quiz</a>
        {% else %}
          <button class="btn btn-secondary btn-block" disabled>Unavailable</button>
        {% endif %}

      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% endblock %}